fs = require 'fs'
coffee = require 'coffee-script'


task 'build','build',->
	srcDir = './src/sinkrow/'
	libDir = './lib/sinkrow/'

	fs.readdirSync(srcDir).forEach (file)->
	  if /\.coffee$/.test file
	    compiledCode = coffee.compile fs.readFileSync(srcDir+file, 'utf-8'), bare: yes
	    compiledFilename = file.split '.'
	    compiledFilename[compiledFilename.length-1] = 'js'
	    fs.writeFileSync libDir+compiledFilename.join('.'), compiledCode, 'utf-8'